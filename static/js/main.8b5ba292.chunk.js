(this["webpackJsonpbe-your-own-password-generator"]=this["webpackJsonpbe-your-own-password-generator"]||[]).push([[0],{24:function(e,t,s){},25:function(e,t,s){"use strict";s.r(t);var r=s(1),n=s(0),o=s.n(n),a=s(4),c=s.n(a),i=(s(17),s(3)),d=s(5),l=Object(d.b)({name:"app",initialState:{password:"",showPassword:!1},reducers:{startRecording:function(e){e.showPassword=!1},endRecording:function(e,t){e.password=t.payload,e.showPassword=!0}}}),u=l.actions,h=u.startRecording,b=u.endRecording,p=l.reducer,j=function(e){var t=e.index,s=e.title,n=e.description,o=e.open;return Object(r.jsxs)("details",{open:o,className:t>0?"mb-4":"",children:[Object(r.jsx)("summary",{children:Object(r.jsx)("b",{children:s})}),Object(r.jsx)("p",{className:"text-light",children:n})]})},m=s(6);function w(e){var t=(-e>>>0)%e,s=new Uint32Array(1),r=0;do{r=window.crypto.getRandomValues(s)[0]}while(r<t);return r%e}var g,f,v=function(e){var t=o.a.useState(!1),s=Object(m.a)(t,2),n=s[0],a=s[1],c=o.a.useState(2),i=Object(m.a)(c,2),d=i[0],l=i[1],u=o.a.useState(32),h=Object(m.a)(u,2),b=h[0],p=h[1],j=o.a.useRef(null);function g(e,t){var s=/[a-zA-Z\d#?!@$%^&*-]/;return new Promise((function(r,n){(function(e){return new Promise((function(t,s){var r=[];navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((function(s){var n=new MediaRecorder(s);n.addEventListener("dataavailable",(function(e){r.push(e.data)})),n.addEventListener("stop",(function(){var e=new Blob(r),t=window.URL.createObjectURL(e);j&&j.current&&(j.current.src=t)})),n.start(),setTimeout((function(){n.stop(),setTimeout((function(){t(r)}),100)}),1e3*e)})).catch(s)}))})(e).then((function(e){new Response(e[0]).arrayBuffer().then((function(e){for(var n="",o=new Uint8Array(e),a=!1;!a;){var c=o[w(o.length)],i=String.fromCharCode(c);s.test(i)&&(n+=i),a=n.length>=t}r(n)}),n)}),n)}))}return Object(r.jsxs)("form",{children:[Object(r.jsxs)("div",{className:"form-group row mb-2",children:[Object(r.jsxs)("label",{className:"col-sm-9 col-form-label",children:["Video Recording Length",Object(r.jsx)("small",{className:"text-muted",children:"(seconds)"})]}),Object(r.jsx)("div",{className:"col-sm-3",children:Object(r.jsx)("input",{className:"form-control",name:"video-length",type:"number",min:"1",max:"30",onChange:function(e){var t=parseInt(e.target.value,10);isNaN(t)||l(t)},value:d})})]}),Object(r.jsxs)("div",{className:"form-group row mb-4",children:[Object(r.jsx)("label",{className:"col-sm-9 col-form-label",children:"Password Length"}),Object(r.jsx)("div",{className:"col-sm-3",children:Object(r.jsx)("input",{className:"form-control",name:"password-length",type:"number",min:"1",max:"128",onChange:function(e){var t=parseInt(e.target.value,10);isNaN(t)||p(t)},value:b})})]}),Object(r.jsx)("div",{className:"d-flex justify-content-center mb-4",children:Object(r.jsx)("button",{id:"submit-button",type:"button",className:"text-white w-50 btn ".concat(n?"btn-danger":"btn-success"),disabled:n,onClick:function(){a(!0),e.onRecordingStart(),g(d,b).then((function(t){a(!1),e.onRecordingEnd(t)}),(function(e){alert(e),a(!1)}))},children:Object(r.jsx)("b",{children:n?"Recording...":"Start Recording"})})}),Object(r.jsx)("video",{controls:!0,ref:j,id:"video",className:"rounded border bg-light w-100 d-block",style:{height:"300px"}})]})},x=(s(24),Object(i.b)(null,{startRecording:h,endRecording:b})((function(e){var t=e.startRecording,s=e.endRecording,n=Object(i.c)((function(e){return e.password})),o=Object(i.c)((function(e){return e.showPassword})),a=[{title:"What is this?",description:Object(r.jsxs)("span",{children:["This is an experimental password generator written in ReactJS that uses a video of you to generate a random password. You can find more details on my ",Object(r.jsx)("a",{className:"text-white font-weight-bold",style:{textDecoration:"underline"},href:"https://hachibu.net/posts/2019/be-your-own-password-generator/",rel:"noreferrer",target:"_blank",children:"blog"}),"."]}),open:!0},{title:"How does this work?",description:Object(r.jsx)("span",{children:"It records a short video of you and then transforms that raw video data into an array of 8-bit unsigned integers. Then it randomly selects an integer from that array and transforms it into its corresponding UTF-16 character. If that character is a lowercase letter, uppercase letter, digit or special character it will be used for your password. The process of selecting a random character continues until the password is long enough."}),open:!1},{title:"Is the video saved anywhere?",description:Object(r.jsx)("span",{children:"The video is only stored temporarily in your browser for playback purposes. The video will dissapear as soon as you close or refresh this page."}),open:!1},{title:"Is it safe to use these passwords?",description:Object(r.jsx)("span",{children:"I would strongly suggest that you do not use these passwords. I haven't run any proper entropy tests on the generated passwords. So, I can't confirm or deny the actual strength of these passwords. Please keep using your password manager to generate passwords."}),open:!1}];return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("div",{className:"row mb-4 pl-3 pr-3",children:Object(r.jsx)("input",{name:"password",defaultValue:n,className:"w-100 p-4 alert alert-success form-control ".concat(o?"d-block":"d-none"),type:"text",style:{fontSize:"30px"}})}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col mb-4",children:Object(r.jsxs)("div",{className:"text-white mb-4 h-100",children:[Object(r.jsx)("h1",{className:"mb-5",children:"Be Your Own Password Generator"}),a.map((function(e,t){return Object(r.jsx)(j,{index:t,open:e.open,title:e.title,description:e.description},t)}))]})}),Object(r.jsx)("div",{className:"col",children:Object(r.jsx)("div",{className:"bg-white rounded p-4 mb-4",children:Object(r.jsx)(v,{onRecordingStart:t,onRecordingEnd:s})})})]})]})}))),O=Object(d.a)({reducer:p});O.subscribe((function(){return console.log("appStore state:",O.getState())})),(null===(g=navigator)||void 0===g||null===(f=g.mediaDevices)||void 0===f?void 0:f.getUserMedia)?window.MediaRecorder?crypto?c.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(i.a,{store:O,children:Object(r.jsx)(x,{})})}),document.getElementById("root")):alert("This browser does not support the Web Crypto API."):alert("This browser does not support the Media Recorder API."):alert("This browser does not support the Media Devices API.")}},[[25,1,2]]]);
//# sourceMappingURL=main.8b5ba292.chunk.js.map